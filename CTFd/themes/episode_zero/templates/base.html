<!DOCTYPE html>
<html>

<head>
  <title>{{ title or Configs.ctf_name }}</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="{{ Configs.ctf_small_icon }}" type="image/x-icon">

  {{ meta | safe }}

  <!-- Google Fonts: Orbitron (display), JetBrains Mono (code), Inter (body) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=JetBrains+Mono:wght@400;500;700&family=Inter:wght@300;400;500;600;700&display=swap">

  {% block stylesheets %}
  {{ Assets.css("assets/scss/main.scss") }}
  {% endblock %}

  {{ Plugins.styles }}

  <link rel="stylesheet" href="/themes/episode_zero/static/css/episode-zero.css?v={{ range(1, 99999) | random }}">

  <script type="text/javascript">
    window.init = {
      'urlRoot': "{{ request.script_root }}",
      'csrfNonce': "{{ Session.nonce }}",
      'userMode': "{{ Configs.user_mode }}",
      'userId': {{ Session.id }},
    'userName': { { User.name | tojson } },
    'userEmail': { { User.email | tojson } },
    'userVerified': { { User.verified | tojson } },
    'teamId': { { Team.id | tojson } },
    'teamName': { { Team.name | tojson } },
    'start': { { Configs.start | tojson } },
    'end': { { Configs.end | tojson } },
    'themeSettings': { { Configs.theme_settings | tojson } },
    'eventSounds': [
      "/themes/episode_zero/static/sounds/notification.webm",
      "/themes/episode_zero/static/sounds/notification.mp3",
    ],
    }
  </script>

  {{ Configs.theme_header }}
</head>

<body>
  <!-- CRT Overlay -->
  <div id="ez-crt-overlay">
    <div id="ez-crt-scanlines"></div>
    <div id="ez-crt-flicker"></div>
    <div id="ez-crt-vignette"></div>
    <div id="ez-crt-glitch"></div>
  </div>

  <canvas id="ez-particle-canvas"></canvas>

  <div id="ez-cursor-trail"></div>
  <div id="ez-cursor"></div>
  <div id="ez-cursor-dot"></div>

  {% include "components/navbar.html" %}

  <main role="main">
    {% block content %}
    {% endblock %}
  </main>

  {% include "components/snackbar.html" %}

  <footer class="footer">
    <div class="container text-center">
      <a href="https://ctfd.io" class="text-secondary">
        <small class="text-muted">
          {% trans %}Powered by CTFd{% endtrans %}
        </small>
      </a>
    </div>
  </footer>

  {% include "components/notifications.html" %}

  <!-- Login Splash Overlay -->
  <div id="ez-splash-overlay">
    <div class="ez-splash-content">
      <div class="ez-splash-logo">EPISODE ZERO</div>
      <div class="ez-splash-loader"></div>
    </div>
  </div>

  {% block scripts %}
  {{ Assets.js("assets/js/page.js") }}
  {% endblock %}

  {{ Plugins.scripts }}

  <script defer src="/themes/episode_zero/static/js/episode-zero.js?v={{ range(1, 99999) | random }}"></script>

  {{ Configs.theme_footer }}
</body>

</html>