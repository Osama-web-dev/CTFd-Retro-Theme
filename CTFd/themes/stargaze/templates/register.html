{% extends "base.html" %}

{% block content %}
<style>
  .register-page-wrap {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2.5rem 1rem 3rem;
    position: relative;
    min-height: calc(100vh - 120px);
  }

  .register-card-stack {
    position: relative;
    width: 100%;
    max-width: 500px;
    z-index: 5;
  }

  .register-card-stack::before,
  .register-card-stack::after {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius: 4px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
  }

  .register-card-stack::before {
    transform: rotate(-1.2deg) translate(5px, 3px);
  }

  .register-card-stack::after {
    transform: rotate(0.9deg) translate(-3px, 2px);
  }

  .register-card {
    position: relative;
    background: var(--panel);
    border: 1.5px solid var(--border);
    border-radius: 4px;
    padding: 2.4rem;
    z-index: 1;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
  }

  .register-tape-label {
    background: linear-gradient(180deg, #c56a2d, #a85420);
    color: var(--text);
    font-family: 'Special Elite', Georgia, serif;
    font-size: 0.72rem;
    letter-spacing: 0.18em;
    text-align: center;
    padding: 0.35rem 1rem;
    margin: -2.4rem -2.4rem 1.8rem;
    border-bottom: 1px solid var(--border);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
  }

  .register-title {
    font-family: 'Playfair Display', Georgia, serif !important;
    font-weight: 900;
    color: var(--text) !important;
    text-align: center;
    font-size: 2rem;
    margin-bottom: 0.25rem;
    text-shadow: 0 2px 6px rgba(0, 0, 0, 0.8);
  }

  .register-subtitle {
    text-align: center;
    font-size: 0.8rem;
    color: var(--text-muted);
    letter-spacing: 0.1em;
    margin-bottom: 1.8rem;
  }
</style>

<div class="register-page-wrap">
  <div class="register-card-stack">
    <div class="register-card">
      <div class="register-tape-label">▶ NEW MEMBER REGISTRATION ◀</div>
      <h1 class="register-title">{% trans %}Register{% endtrans %}</h1>
      <p class="register-subtitle">FILL IN YOUR CREDENTIALS · PRESS RECORD</p>

      {% include "components/errors.html" %}
      {% if integrations.mlc() %}
      <a class="btn btn-secondary btn-lg w-100 mb-3" href="{{ url_for('auth.oauth_login') }}">Login with Major League
        Cyber</a>
      <hr>
      {% endif %}
      {% with form = Forms.auth.RegistrationForm() %}
      {% from "macros/forms.html" import render_extra_fields %}
      <form method="post" accept-charset="utf-8" role="form">
        <div class="mb-3">
          <b>{{ form.name.label(class="form-label") }}</b>
          {{ form.name(class="form-control", value=name, autocomplete="username") }}
          <small class="text-muted">{% trans %}Your username on the site{% endtrans %}</small>
        </div>
        <div class="mb-3">
          <b>{{ form.email.label(class="form-label") }}</b>
          {{ form.email(class="form-control", value=email, autocomplete="email") }}
          <small class="text-muted">{% trans %}Never shown to the public{% endtrans %}</small>
        </div>
        <div class="mb-3">
          <b>{{ form.password.label(class="form-label") }}</b>
          {{ form.password(class="form-control", value=password, autocomplete="new-password") }}
        </div>
        {{ form.nonce() }}
        {{ render_extra_fields(form.extra) }}
        <div class="row pt-3">
          <div class="col-6 col-md-4 offset-6 offset-md-8">
            {{ form.submit(class="btn btn-block btn-primary w-100") }}
          </div>
        </div>
        {% if Configs.tos_or_privacy %}
        <div class="row pt-3">
          <div class="col-md-12 text-center">
            <small class="text-muted">
              {% trans trimmed privacy_link=Configs.privacy_link, tos_link=Configs.tos_link %}
              By registering, you agree to the
              <a href="{{ privacy_link }}" target="_blank">privacy policy</a>
              and <a href="{{ tos_link }}" target="_blank">terms of service</a>
              {% endtrans %}
            </small>
          </div>
        </div>
        {% endif %}
      </form>
      {% endwith %}
    </div>
  </div>
</div>
{% endblock %}